let _timeLeft=document.getElementById("timeLeft");const _progressText=document.getElementById("progressText"),_progressBar=document.getElementById("progressBar"),_progressBarFull=document.getElementById("progressBarFull"),_totalQuestions=document.getElementById("total-questions");let isPlaying=!1;const _audioLogo=document.getElementById("audioLogo"),audioOffIcon=document.getElementsByClassName("sound-off"),audioOnIcon=document.getElementsByClassName("sound-on"),buttonAudio=new Audio("assets/sounds/button-click.mp3"),correctAudio=new Audio("assets/sounds/correct-sound.mp3"),incorrectAudio=new Audio("assets/sounds/incorrect-sound.mp3"),_loaderBlock=document.getElementById("loaderBlock"),_quizWrapper=document.getElementById("quizWrapper"),_quizTitle=document.getElementById("quizTitle"),_quizBody=document.getElementById("quizBody"),_question=document.getElementById("question"),_answers=document.querySelector(".quiz-answers"),_checkAnswer=document.getElementById("check-answer"),_result=document.getElementById("result");let correctAnswer="",correctScore=askedCount=0,totalQuestion=3,questionCounter=1,currentQuestion={},questions=[],availableQuestions=[];function startQuiz(){availableQuestions=[...questions],_timeLeft.innerHTML='<p><i class="fas fa-stopwatch"> 60</p>',showQuestion(),quizTime(),_loaderBlock.classList.add("hide"),_quizWrapper.style.display="flex",_checkAnswer.addEventListener("click",checkAnswer)}function quizTime(){let e=90;quizTime=setInterval((function(){e--,e>0?_timeLeft.innerHTML=`<p><i class="fas fa-stopwatch"> ${e}</p>`:0===e&&setTimeout((()=>(localStorage.setItem("mostRecentScore",correctScore),window.location.assign("./end.html"))),300)}),1e3)}function showQuestion(){_checkAnswer.disabled=!1;const e=Math.floor(Math.random()*availableQuestions.length);currentQuestion=availableQuestions[e],_question.innerHTML=currentQuestion.question,correctAnswer=currentQuestion.correct_answer;let t=currentQuestion.incorrect_answers,o=t;o.splice(Math.floor(Math.random()*(t.length+1)),0,correctAnswer),_answers.innerHTML=`\n      ${o.map(((e,t)=>`\n          <li> ${t+1}. <span>${e}</span> </li>\n      `)).join("")}\n  `,_totalQuestions.textContent=totalQuestion,_checkAnswer.style.display="block",_result.className="hide",_progressText.innerText=`Question ${questionCounter} of ${totalQuestion}`,_progressBarFull.style.width=questionCounter/totalQuestion*100+"%",selectAnswer(),availableQuestions.splice(e,1)}function selectAnswer(){_answers.querySelectorAll("li").forEach((e=>{e.addEventListener("click",(()=>{if(_answers.querySelector(".selected")){buttonSound();_answers.querySelector(".selected").classList.remove("selected")}buttonSound(),e.classList.add("selected")}))}))}function checkAnswer(){if(_checkAnswer.disabled=!0,_answers.querySelector(".selected")){let e=_answers.querySelector(".selected span").textContent;checkCount(),e==correctAnswer?(correctSound(),_checkAnswer.style.display="none",correctScore++,_result.className="result-correct",_result.innerHTML='<p> <i class = "fas fa-check"></i> Correct Answer!</p>'):(incorrectSound(),_checkAnswer.style.display="none",_result.className="result-incorrect",_result.innerHTML=`<p> <i class = "fas fa-times"></i> Incorrect Answer!</p> <p><small><b>Correct Answer: </b> ${correctAnswer}</b></small></p>`)}else _result.className="result-omit",_result.innerHTML='<p><i class = "fas fa-question"></i> <strong>Please select an answer!</strong></p>',setTimeout((()=>{_result.className="hide"}),500),_checkAnswer.disabled=!1}function checkCount(){askedCount++,questionCounter++,askedCount==totalQuestion&&setTimeout((()=>(_checkAnswer.style.display="none",localStorage.setItem("mostRecentScore",correctScore),window.location.assign("./end.html"))),300),setTimeout((()=>{showQuestion()}),900)}document.addEventListener("DOMContentLoaded",(()=>{fetch("https://opentdb.com/api.php?amount=50&category=11&type=multiple").then((e=>e.json())).then((e=>{questions=e.results,startQuiz()})).catch((e=>{}))}));let audioIconLogo=document.getElementsByClassName("audio-icon-logo");for(let e=0;e<audioIconLogo.length;e++)audioIconLogo[e].addEventListener("click",(()=>{toggleAudio()}));function toggleAudio(){isPlaying?toggleAudioOff():toggleAudioOn()}function toggleAudioOn(){isPlaying=!0;for(let e=0;e<audioOffIcon.length&&audioOnIcon.length;e++)audioOffIcon[e].classList.add("hide"),audioOnIcon[e].classList.remove("hide")}function toggleAudioOff(){isPlaying=!1;for(let e=0;e<audioOffIcon.length&&audioOnIcon.length;e++)audioOffIcon[e].classList.remove("hide"),audioOnIcon[e].classList.add("hide")}function correctSound(){isPlaying?correctAudio.play():correctAudio.pause()}function incorrectSound(){isPlaying?incorrectAudio.play():incorrectAudio.pause()}function buttonSound(){isPlaying?buttonAudio.play():buttonAudio.pause()}